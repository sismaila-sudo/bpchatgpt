PROMPT TOTAL ‚Äî Application web de Business Plans bancables (multi-secteurs, toutes tailles)

Tu es architecte logiciel & lead developer.
Con√ßois, sp√©cifie et livre une application web en ligne qui transforme des donn√©es r√©elles d‚Äôentreprises (bilans, comptes de r√©sultats, relev√©s bancaires, projets d‚Äôinvestissements) en business plans bancables.
Public cible : TPE ‚Üí Grand Groupe, multi-secteurs, multi-monnaies.
Style : navigation type classeur Excel (onglets), UI moderne & claire, calculs robustes.
‚ö†Ô∏è Humain dans la boucle : les donn√©es import√©es doivent √™tre revues/corrig√©es avant utilisation. Aucun texte n‚Äôest g√©n√©r√© sans validation.

üéØ Objectifs

Produire des dossiers bancables (banques, fonds, FONGIP/DER-FJ, investisseurs) : pr√©visionnels, ratios, risques, annexes, PDF/Word/Excel impeccables.

Deux parcours utilisateur :

Nouveau projet (entreprise en cr√©ation) ‚Üí saisie guid√©e.

Entreprise existante ‚Üí import bilans/CR/flux/relev√©s ‚Üí extraction auto ‚Üí revue ‚Üí analyse ‚Üí projections.

R√©duire la saisie manuelle gr√¢ce √† : imports, assistants, pr√©r√©glages sectoriels, calculs automatiques.

G√©n√©rer des textes semi-automatis√©s (gabarits + chiffres inject√©s, pas de hallucination).

üß≠ Parcours utilisateur (UX)

Onboarding

Pays, devise (XOF par d√©faut, multi-devises), langue (FR/EN).

Secteur (template sectoriel), taille (TPE/PME/ETI/GE).

Mode : Simple (TPE) vs Avanc√© (PME/GE, consolidation).

Assistant de configuration (wizard)

Identit√© (forme juridique, NINEA/RCCM, contacts).

Produits/Services : unit√©, prix, mod√®le de revenu (unitaire, abonnement, m¬≤, forfait, licence), saisonnalit√©.

CAPEX : cat√©gories, vie utile, amortissement.

OPEX : fixes/variables, indexation.

Paie : grilles salariales, charges sociales, plan d‚Äôembauche.

Financement : apports, pr√™ts (multi-pr√™ts, taux/dur√©e/diff√©r√©/balloon), leasing, subventions, garanties (quotit√©, d√©p√¥ts).

Hypoth√®ses : inflation, TVA/IS/IMF param√©trables, DSO/DPO/stock, WACC, FX.

Ingestion documents (entreprise existante)

Import Excel/CSV, PDF natifs (tables), PDF scann√©s/Images (OCR).

Relev√©s bancaires (CSV, PDF) ‚Üí cat√©gorisation (r√®gles + ML l√©ger), rapprochements, frais, d√©couverts.

Mapping SYSCOHADA/IFRS des postes comptables.

√âcran de revue & correction avec contr√¥les :

Actif = Passif.

Produits ‚Äì Charges = R√©sultat.

CAF = flux op√©rationnel.

Besoins = Ressources.

Mod√©lisation & sc√©narios

Calcul mensuel ‚Üí agr√©g√© annuel sur 3‚Äì7 ans.

Sc√©narios Base / Optimiste / Prudent.

Sensibilit√©s (prix, volumes, d√©lais, taux).

Simulation dettes (multi-pr√™ts, covenants, DSCR).

Plan de financement & BFR.

R√©daction IA contr√¥l√©e

Gabarits verrouill√©s : R√©sum√©, Pr√©sentation, March√©, Strat√©gie, Organisation, ESG/Impacts, Risques & att√©nuation.

Placeholders {{metric}} reli√©s √† /metrics/:projectId.

Phrases conditionnelles (ex. DSCR <1,2 ‚Üí alerte & plan d‚Äôatt√©nuation).

Chaque section = statut ‚Äú√Ä valider / Valid√©‚Äù.

Exports & livrables

PDF (‚â§ 40 pages, sommaire, pagination).

Word (√©ditable, styles).

Excel (multi-onglets).

Dossier Banque/Garantie : Fiche synoptique, Besoins/Ressources, Garanties, √âtats financiers, Graphiques, Annexes l√©gales.

üß© Modules fonctionnels (MVP ‚Üí v1.2)

Classeur onglets : Synoptique ‚Ä¢ Produits/Services ‚Ä¢ Ventes ‚Ä¢ CAPEX ‚Ä¢ OPEX ‚Ä¢ Paie ‚Ä¢ Taxes ‚Ä¢ BFR ‚Ä¢ Dette ‚Ä¢ Tr√©sorerie ‚Ä¢ SIG ‚Ä¢ Ratios ‚Ä¢ Sc√©narios ‚Ä¢ Risques ‚Ä¢ Exports.

Produits & Services : marges, BOM (fabrication), mix canaux, saisonnalit√©.

Ventes : drivers volumes/prix, cohortes (SaaS), panier moyen (Retail), occupation (Location).

CAPEX : calendrier d√©caissement, TVA r√©cup√©rable, amortissements (lin√©aire/d√©gressif).

OPEX : fixes/variables, indexation, seuils d‚Äôalerte.

Paie : headcount par mois, charges patronales.

Fiscalit√© : IS param√©trable, TVA collect√©e/d√©ductible.

BFR : DSO/DPO/stock, avances clients/fournisseurs.

Dette/Leasing : multi-pr√™ts, diff√©r√©s, frais, assurance, covenants, DSCR.

Ratios : CA, EBITDA, EBIT, RN, CAF, VAN, TRI, gearing, interest cover.

Sc√©narios & sensibilit√©s : sliders, tornado chart, comparateur c√¥te-√†-c√¥te.

Collaboration : r√¥les (Admin, Finance, Analyste, Lecteur), commentaires, verrouillage onglet.

Qualit√©/Audit : coh√©rence bilans, logs d‚Äô√©dition, piste d‚Äôaudit.

üßÆ Mod√®le financier ‚Äî r√®gles & formules

CA mensuel = Œ£(Vol √ó Prix √ó saisonnalit√©).

Marge brute = CA ‚Äì COGS.

OPEX = Œ£ fixes + variables (% CA) + indexation.

EBITDA = Marge brute ‚Äì OPEX.

Amortissements = Valeur / Dur√©e.

EBIT = EBITDA ‚Äì Amortissements.

IS = 30% (param√©trable).

RN = EBIT ‚Äì Int√©r√™ts ‚Äì IS.

CAF = RN + Amortissements ¬± ŒîBFR.

BFR = DSO √ó ventes/jour + Stock ‚Äì DPO √ó achats/jour.

Dette : tableau d‚Äôamortissement complet.

DSCR = Cash flow op√©rationnel / Service dette (alerte <1,2).

VAN = flux actualis√©s au WACC ‚Äì investissement initial.

TRI = taux qui annule VAN.

Point mort = Charges fixes / (1 ‚Äì COGS/CA).

Consolidation (v1.1+) : multi-entit√©s, FX, √©liminations.

üîé Ingestion & normalisation

Formats : XLS/XLSX, CSV, PDF tables, PDF scann√©s/Images.

D√©tection automatique (Bilan, CR, Flux, Besoins/Ressources).

Mapping SYSCOHADA/IFRS avec dictionnaire.

Contr√¥les automatiques (√©quilibres, coh√©rences).

Relev√©s bancaires : cat√©gorisation, d√©tection anomalies.

Assistants de correction (reclassements, TVA).

‚úçÔ∏è R√©daction IA ¬´ contrainte ¬ª

Gabarits Markdown par audience (Banque, Investisseur).

Variables {{ }} reli√©es √† /metrics/:projectId.

Blocs explicatifs param√©tr√©s par secteur.

Survol d‚Äôun chiffre ‚Üí surbrillance cellule source.

Validation humaine obligatoire avant export.

üìä UI/UX

Navigation par onglets type Excel + barre lat√©rale.

Palette douce & moderne (mode clair/sombre).

Tableaux dynamiques (tri, filtres, validation, copier-coller Excel).

Graphiques : CA (barres), Marges/RN (lignes), Cash (aire), Structure co√ªts (anneau), DSCR (ligne), Tornado (sensibilit√©s), Waterfall (variation RN).

Panneau de sc√©narios interactif.

Command palette (Ctrl/Cmd-K).

Accessibilit√© WCAG 2.1 AA.

üèóÔ∏è Architecture technique

Front : Next.js (React + TS), shadcn/ui, React Hook Form + Zod, TanStack Table, Zustand/Redux, Recharts/ECharts.

Back : FastAPI (Python) ou NestJS (Node).

DB : PostgreSQL (multi-tenant).

Stockage : S3 compatible (MinIO dev).

Queues : Redis (OCR, exports).

Exports : WeasyPrint/Puppeteer (PDF), python-docx (Word), xlsxwriter (Excel).

Auth & s√©curit√© : OAuth/JWT, RBAC, chiffrement TLS+AES, logs d‚Äôaudit.

Observabilit√© : Sentry, OpenTelemetry.

Internationalisation : FR/EN, fiscalit√© param√©trable.

üóÉÔ∏è Mod√®le de donn√©es (extrait)
Company: {id, name, legal_form, country, currency, tax_profile, contacts}
Project: {id, company_id, sector, size, start_date, horizon_years, status, scenario_set_id}
ProductService: {id, project_id, name, unit, revenue_model, price, vat_rate, cogs_unit, bom[], seasonality[12]}
Capex: {id, project_id, label, amount, date, life_months, method, salvage_value, vat_rate}
Opex: {id, project_id, label, amount, periodicity, is_variable, var_pct_of_sales, inflation_index}
Payroll: {id, project_id, role, gross_monthly, employer_charges_pct, headcount_plan[36]}
Loans: {id, project_id, lender, principal, rate, term_months, grace_principal, grace_interest, fees_pct, insurance_pct, balloon_pct}
Leases: {id, project_id, asset, payments_schedule[], ifrs16_flags}
Taxes: {id, project_id, corporate_tax_rate, regimes[], tva_rules}
WorkingCapital: {project_id, dso_days, dpo_days, inventory_days, advances_clients, advances_suppliers}
Statements: {id, project_id, period, type(Bilan|CR|Flux), raw_extract, mapped_lines}
BankTx: {id, project_id, date, label, amount, counterparty, category}
Assumptions: {id, project_id, inflation, wacc, fx_rates, sensitivity_bounds}
Outputs: {id, project_id, type(pdf|docx|xlsx), theme, url}
AuditLog: {id, project_id, user_id, action, before, after, ts}

‚úÖ Contr√¥les & tests

√âquilibres : Actif = Passif, Produits ‚Äì Charges = R√©sultat, Besoins = Ressources.

Dette : recalcul √©ch√©ances correct, respect diff√©r√©s, alerte DSCR<1,2.

VAN/TRI : coh√©rents ¬±1%.

Exports : PDF ‚â§40 p., Word styles, Excel ‚â•12 onglets.

Tests : ‚â•60 unitaires (calculs), ‚â•15 int√©gration (ingestion), ‚â•6 snapshot exports.

Performance : recalcul <300ms pour 10k lignes, import PDF <90s.

üó∫Ô∏è Roadmap

MVP (8‚Äì10 sem.) : Wizard, classeur (Ventes, CAPEX, OPEX, Paie, Dette, Taxes), pr√©visionnel 3 ans, sc√©narios, export PDF/Excel, IA-texte R√©sum√©/Strat√©gie, 5 templates sectoriels.

v1.0 : OCR/Excel complet, DSCR/BFR avanc√©s, plan tr√©sorerie mensuel, export Word, collaboration, th√®mes Banque/Garantie/Investisseur.

v1.2 : Consolidation multi-entit√©s, FX, leasing IFRS16, import relev√©s bancaires enrichi, score bancabilit√© (r√®gles+ML), Monte-Carlo, checklists dynamiques.

üîê S√©curit√© & conformit√©

Chiffrement transit/repos, gestion secrets (Vault).

RGPD : consentement, portabilit√©, suppression.

PII minimis√©es, masquage, r√©tention.

Journal d‚Äôaudit int√©gral, verrouillage sections sensibles, r√¥les granulaires.

üì¶ Livrables

Sch√©ma DB + migrations.

Services backend (calc, ingestion, report, export, auth) + tests.

Front classeur (onglets, tableaux, sc√©narios, graphiques).

Gabarits IA (Banque, Investisseur) + API /metrics/:projectId.

Exports : 3 th√®mes (Banque, Garantie, Investisseur).

Jeux de donn√©es sectoriels (5 secteurs, XOF + multi-devises).

CI/CD (Docker, S3, Redis, Postgres, Sentry).

Guides utilisateur & technique.

üîß Crit√®res de r√©ussite

Import r√©el (bilans, CR, relev√©s) ‚Üí revue ‚Üí projections ‚Üí exports sans retraitement manuel.

Toute modif d‚Äôun driver (prix/volume/taux) propage instantan√©ment tableaux, graphiques & textes.

Contr√¥les d√©clenchent suggestions (d√©s√©quilibres, DSCR trop bas).

Dossiers export√©s lisibles par une banque directement : clairs, sourc√©s, coh√©rents, bancables.